# ABA

 线程1 从内存 X 中取出 A，这时候另一个线程 2 也从内存 X 中取出 A，并且线程 2 进行了一些操作将内存 X 中的值变成了 B，然后线程 2又将内存 X 中的数据变成 A，这时候线程1进行CAS操作发现内存X中仍然是A，然后线程1操作成功。虽然线程1的CAS操作成功，但是整个过程就是有问题的。比如链表的头在变化了两次后恢复了原值，但是不代表链表就没有变化。

 所以 JAVA 中提供了 `AtomicStampedReference/AtomicMarkableReference`来处理会发生 ABA 问题的场景，主要是在对象中额外再增加一个标记来标识对象是否有过变更。

