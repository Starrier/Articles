# RPC 系统设计

系统之间的交互，分为同步和异步，同步，成为 RPC。

## 服务发现注册

注册中心，主需要存储服务信息即可，并且一定要保证高可用性。

- Zookeeper
- Etcd
- Consul
- Nacos
- Eureka

像Zookeeper只提供存储，具体的如何发现，如何注册，还需要编码实现。服务注册与发现是RPC框架中一个很基础的部分，首先我们应该想到的就是它。

一般服务名称为：

项目名.模块名.功能名.版本号

### 服务入口

在Java中，远程调用，我们不可能把每个服务接口都暴露在外面，而是一个入口接受参数，再由这个入口分发到系统内部的某个服务，调用后返回结果。

### 序列化

因为涉及到网络传输，序列化反序列化也是必不可少的，组件，一般常用的序列化工具有

grpc
hession
java自带的序列化
json/xml

### 扩展点

一般服务器在部署的时候都是集群部署的，在发现服务的时候可能有多台机器，这个时候需要特定的负载均衡算法选择具体的服务器。常见的负载均衡算法

轮询
随机
权重
最少连接
ip_hash